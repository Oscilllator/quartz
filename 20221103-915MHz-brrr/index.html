<!doctype html><html lang=en><head><meta charset=utf-8><meta name=description content="ird party plugins or themes, we highly encourage you to check for updates bFollowing the [[20221025 antenna tuning|previous]] antenna tuning debacle it seems that a 10MHz antenna won&rsquo;t work not because it doesn&rsquo;t transmit necessarily, but because it&rsquo;s passpand jumps around a lot based on what the antenna is next to."><title>Harry dB notes</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" type=image/png href=https://Oscilllator.github.io/quartz//icon.png><link href=https://Oscilllator.github.io/quartz/styles.708c2658f93e3a9d323a1f9fded8f4b2.min.css rel=stylesheet><link href=https://Oscilllator.github.io/quartz/styles/_light_syntax.86a48a52faebeaaf42158b72922b1c90.min.css rel=stylesheet id=theme-link><script src=https://Oscilllator.github.io/quartz/js/darkmode.9b46d81b9b161bfac149d66dfa6b3812.min.js></script>
<script src=https://Oscilllator.github.io/quartz/js/util.9825137f5e7825e8553c68ce39ac9e44.min.js></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css integrity=sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js integrity=sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/contrib/copy-tex.min.js integrity=sha384-ww/583aHhxWkz5DEVn6OKtNiIaLi2iBRNZXfJRiY1Ai7tnJ9UXpEsyvOITVpTl4A crossorigin=anonymous></script>
<script src=https://unpkg.com/@floating-ui/core@0.7.3></script>
<script src=https://unpkg.com/@floating-ui/dom@0.5.4></script>
<script src=https://Oscilllator.github.io/quartz/js/popover.9b72b70bd35617d0635e9d15463662b2.min.js></script>
<script src=https://Oscilllator.github.io/quartz/js/code-title.b35124ad8db0ba37162b886afb711cbc.min.js></script>
<script src=https://Oscilllator.github.io/quartz/js/clipboard.c20857734e53a3fb733b7443879efa61.min.js></script>
<script src=https://Oscilllator.github.io/quartz/js/callouts.7723cac461d613d118ee8bb8216b9838.min.js></script>
<script>const BASE_URL="https://Oscilllator.github.io/quartz/",fetchData=Promise.all([fetch("https://Oscilllator.github.io/quartz/indices/linkIndex.b3259f812ed133e49589f69cf23d7208.min.json").then(e=>e.json()).then(e=>({index:e.index,links:e.links})),fetch("https://Oscilllator.github.io/quartz/indices/contentIndex.9759df35309fabf611e9ed0de8e4004c.min.json").then(e=>e.json())]).then(([{index:e,links:t},n])=>({index:e,links:t,content:n})),render=()=>{const e=new URL(BASE_URL),t=e.pathname,n=window.location.pathname,s=t==n;addCopyButtons(),addTitleToCodeBlocks(),addCollapsibleCallouts(),initPopover("https://Oscilllator.github.io/quartz",!0,!0);const o=document.getElementById("footer");if(o){const e=document.getElementById("graph-container");if(!e)return requestAnimationFrame(render);e.textContent="";const t=s&&!1;drawGraph("https://Oscilllator.github.io/quartz",t,[{"/moc":"#4388cc"}],t?{centerForce:1,depth:-1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.5,linkDistance:1,opacityScale:3,repelForce:1,scale:1.4}:{centerForce:1,depth:1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.6,linkDistance:1,opacityScale:3,repelForce:2,scale:1.2})}},init=(e=document)=>{addCopyButtons(),addTitleToCodeBlocks(),renderMathInElement(e.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],macros:{'â€™':"'"},throwOnError:!1})}</script><script type=module>
    import { attachSPARouting } from "https:\/\/Oscilllator.github.io\/quartz\/js\/router.9d4974281069e9ebb189f642ae1e3ca2.min.js"
    attachSPARouting(init, render)
  </script></head><script async src="https://www.googletagmanager.com/gtag/js?id=G-XYFD95KB4J"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-XYFD95KB4J",{anonymize_ip:!1})}</script><body><div id=search-container><div id=search-space><input autocomplete=off id=search-bar name=search type=text aria-label=Search placeholder="Search for something..."><div id=results-container></div></div></div><script src=https://cdn.jsdelivr.net/npm/flexsearch@0.7.21/dist/flexsearch.bundle.js integrity="sha256-i3A0NZGkhsKjVMzFxv3ksk0DZh3aXqu0l49Bbh0MdjE=" crossorigin=anonymous defer></script>
<script defer src=https://Oscilllator.github.io/quartz/js/full-text-search.24827f874defbbc6d529926cbfcfb493.min.js></script><div class=singlePage><header><h1 id=page-title><a href=https://Oscilllator.github.io/quartz/>Harry dB notes</a></h1><div class=spacer></div><div id=search-icon><p>Search</p><svg tabindex="0" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title">Search Icon</title><desc id="desc">Icon to open search</desc><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"/><circle cx="8" cy="8" r="7"/></g></svg></div><div class=darkmode><input class=toggle id=darkmode-toggle type=checkbox tabindex=-1>
<label id=toggle-label-light for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="dayIcon" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35"><title>Light Mode</title><path d="M6 17.5C6 16.672 5.328 16 4.5 16h-3C.672 16 0 16.672.0 17.5S.672 19 1.5 19h3C5.328 19 6 18.328 6 17.5zM7.5 26c-.414.0-.789.168-1.061.439l-2 2C4.168 28.711 4 29.086 4 29.5 4 30.328 4.671 31 5.5 31c.414.0.789-.168 1.06-.44l2-2C8.832 28.289 9 27.914 9 27.5 9 26.672 8.329 26 7.5 26zm10-20C18.329 6 19 5.328 19 4.5v-3C19 .672 18.329.0 17.5.0S16 .672 16 1.5v3C16 5.328 16.671 6 17.5 6zm10 3c.414.0.789-.168 1.06-.439l2-2C30.832 6.289 31 5.914 31 5.5 31 4.672 30.329 4 29.5 4c-.414.0-.789.168-1.061.44l-2 2C26.168 6.711 26 7.086 26 7.5 26 8.328 26.671 9 27.5 9zM6.439 8.561C6.711 8.832 7.086 9 7.5 9 8.328 9 9 8.328 9 7.5c0-.414-.168-.789-.439-1.061l-2-2C6.289 4.168 5.914 4 5.5 4 4.672 4 4 4.672 4 5.5c0 .414.168.789.439 1.06l2 2.001zM33.5 16h-3c-.828.0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5h3c.828.0 1.5-.672 1.5-1.5S34.328 16 33.5 16zM28.561 26.439C28.289 26.168 27.914 26 27.5 26c-.828.0-1.5.672-1.5 1.5.0.414.168.789.439 1.06l2 2C28.711 30.832 29.086 31 29.5 31c.828.0 1.5-.672 1.5-1.5.0-.414-.168-.789-.439-1.061l-2-2zM17.5 29c-.829.0-1.5.672-1.5 1.5v3c0 .828.671 1.5 1.5 1.5s1.5-.672 1.5-1.5v-3C19 29.672 18.329 29 17.5 29zm0-22C11.71 7 7 11.71 7 17.5S11.71 28 17.5 28 28 23.29 28 17.5 23.29 7 17.5 7zm0 18c-4.136.0-7.5-3.364-7.5-7.5s3.364-7.5 7.5-7.5 7.5 3.364 7.5 7.5S21.636 25 17.5 25z"/></svg></label><label id=toggle-label-dark for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="nightIcon" viewBox="0 0 100 100" style="enable-background='new 0 0 100 100'"><title>Dark Mode</title><path d="M96.76 66.458c-.853-.852-2.15-1.064-3.23-.534-6.063 2.991-12.858 4.571-19.655 4.571C62.022 70.495 50.88 65.88 42.5 57.5 29.043 44.043 25.658 23.536 34.076 6.47c.532-1.08.318-2.379-.534-3.23-.851-.852-2.15-1.064-3.23-.534-4.918 2.427-9.375 5.619-13.246 9.491-9.447 9.447-14.65 22.008-14.65 35.369.0 13.36 5.203 25.921 14.65 35.368s22.008 14.65 35.368 14.65c13.361.0 25.921-5.203 35.369-14.65 3.872-3.871 7.064-8.328 9.491-13.246C97.826 68.608 97.611 67.309 96.76 66.458z"/></svg></label></div></header><article><p class=meta>Last updated
Unknown
<a href=https://github.com/jackyzha0/quartz/tree/hugo/content/20221103%20915MHz%20brrr.md rel=noopener>Edit Source</a></p><ul class=tags></ul><aside class=mainTOC><details><summary>Table of Contents</summary><nav id=TableOfContents><ol><li><a href=#handy-graph-for-what-things-go-where>Handy graph for what things go where</a><ol><li><a href=#pinout-that-infineon-was-too-lazy-to-make>Pinout that infineon was too lazy to make</a></li></ol></li><li><a href=#oscillator-2>Oscillator 2</a></li><li><a href=#mixing-again>Mixing again</a></li><li><a href=#results-of-downconversion>Results of downconversion:</a></li></ol></nav></details></aside><p>ird party plugins or themes, we highly encourage you to check for updates bFollowing the <a href=/quartz/20221025-antenna-tuning rel=noopener class=internal-link data-src=/quartz/20221025-antenna-tuning>previous</a> antenna tuning debacle it seems that a 10MHz antenna won&rsquo;t work not because it doesn&rsquo;t transmit necessarily, but because it&rsquo;s passpand jumps around a lot based on what the antenna is next to. So the time has come to build a 915MHz oscillator and try and mix stuff in.
The only piece of equipment that I have that can detect 915MHz stuff is a RTL-SDR software defined radio. It will be hideously slow to sweep out a full spectrum, but should do the job.
Fortunately there is a
<a href=https://www.qsl.net/va3iul/High_Frequency_VCO_Design_and_Schematics/High_Frequency_VCO_design_and_schematics.pdf rel=noopener>great webpage</a> on the topic which has just what I need. To minimise the chances of anything going wrong I will go with the high frequency oscillator that has the same topology as my current one:
<img src="/quartz/Pasted image 20221103212705.png" width=auto>
Which once it is working we should be able to adjust down to 915MHz no problem. I even have the BFP420 and some SMV123<em>4</em> diodes.
This is what the circuit looks like assembled on the <a href=/quartz/20221015-FM-V3-bringup rel=noopener class=internal-link data-src=/quartz/20221015-FM-V3-bringup>20221015 FM V3 bringup</a> pcb:
<img src="/quartz/Pasted image 20221105180719.png" width=auto>
I used a 27nH inductor though.
Straight out of the box it oscillates between and 520 and 730MHz! it&rsquo;s only a 500MHz scope but it shows up great nonetheless:
<img src="/quartz/Pasted image 20221105180906.png" width=auto>
Assuming the signal is within the scopes frequency range that would put the amplitude at about 1.5V, too. I guess this guy really knows what he&rsquo;s doing.
The circuit only has a 730/520 = 1.5:1 tuning ratio though compared to the claimed >2:1. not sure what the cause of that is. Could well be parasitics, since we are talking about single digit pF here.
Apparently the frequency of oscillation in the above circuit is given by Ï‰2 L = 1/(C2+Cvar)+(1/C3)+(1/C4). So since I want a frequency 50% higher that means I should divide the L by 1.5^2 = 2.25, right?
Swapping out for a 12nH inductor gives a low frequency of 720MHz and a high of something that is north of 1GHz (this is a 2GSa/s scope):
<img src="/quartz/Pasted image 20221105182146.png" width=auto>
Excellent! Only one problem - I only bought two of those diodes so I can&rsquo;t make another receiver circuit straightaway. To digikey!</p><a href=#mixing><h1 id=mixing><span class=hanchor arialabel=Anchor># </span>Mixing</h1></a><p>Next step is to do the upconversion. Since it turns out my scope can see 720MHz just fine, let&rsquo;s do it there. The seupt is the output of the oscillator tuned to 750MHz on the dot sent into an ADE-2ASK+ mixer as the &ldquo;LO&rdquo;, with the &ldquo;IF&rdquo; being a 5MHz sin wave coming from the function generator (amplitude only 56mV here).
Here is an FFT of before mixing (white) and after mixing (orange):
<img src="/quartz/Pasted image 20221105203324.png" width=auto>
If we zoom in on the time series we can see the modulation of channel 3:
<img src="/quartz/Pasted image 20221105203458.png" width=auto>
I don&rsquo;t know what the deal is with the three spikes in the frequency domain. This is outside the proper operating region of the scope so it might just be a measurement thing but if not this is something to worry about I think.</p><p>This all looks fairly reasonable, now the question is if it can be downconverted back to the original signal.</p><a href=#handy-graph-for-what-things-go-where><h2 id=handy-graph-for-what-things-go-where><span class=hanchor arialabel=Anchor># </span>Handy graph for what things go where</h2></a><p><img src="/quartz/Pasted image 20221112113028.png" width=auto>
From
<a href=https://www.markimicrowave.com/assets/appnotes/mixer_basics_primer.pdf rel=noopener>here</a>.</p><a href=#pinout-that-infineon-was-too-lazy-to-make><h3 id=pinout-that-infineon-was-too-lazy-to-make><span class=hanchor arialabel=Anchor># </span>Pinout that infineon was too lazy to make</h3></a><p><img src="/quartz/Pasted image 20221112115657.png" width=auto>
BFP420H</p><a href=#oscillator-2><h2 id=oscillator-2><span class=hanchor arialabel=Anchor># </span>Oscillator 2</h2></a><p>I made this one out of an old FM V2 PCB because it still had the footprint for the ADE-2ASK+ mixer on it. Here are the two outputs side by side with the same varactor voltage:
<img src="/quartz/Pasted image 20221112143528.png" width=auto>
Why is the second oscillator so much lower than the first? Well because it <em>isn&rsquo;t actually wired up to the output of the oscillator</em>:
<img src="/quartz/Pasted image 20221112143729.png" width=auto>
And it still gets that much signal!
Actually wiring it up and making sure that I am measuring the same thing for both oscillators doesn&rsquo;t actually seem to change anything. In addition to this the amplitude falls off super fast with increasing frequency so by the time I am tuned up to the range of the first oscillator the amplitude is very low. It does form a spontaneous PLL though, which is cool:
<img src="/quartz/Pasted image 20221112151241.png" width=auto>
I don&rsquo;t know why this amplitude fallin off thing is happening. I checked the DC levels everywhere and didn&rsquo;t find anything. I double checked and replaced the feedback capacitors and they are fine.
Interestingly probing the emitter of the transistor with a multimeter lead has very different results. For the well behaved circut the results look like thiss:
<img src="/quartz/Pasted image 20221112152544.png" width=auto>
I interpret this to mean that the impedance the emitter sees to ground kind of moves around with frequency because the multimeter lead is a transmission line or whatever. This effect disappears when I touch ground with my other hand btw.
&mldr; This whole thing turned out to be the AC coupling capacitor coming out of the oscillator being desoldered on one end :shrug:.</p><a href=#mixing-again><h2 id=mixing-again><span class=hanchor arialabel=Anchor># </span>Mixing again</h2></a><p>Putting a 10KHz square wave into the 10MHz VCO which then gets upconverted in the 750 MHz VCO like so:
<img src="/quartz/Pasted image 20221113184227.png" width=auto>
I tuned the high frequency to be at 750MHz rather than 915MHz cause that was what was easy to do at the time.
This results in the following spectrum:
<img src="/quartz/Pasted image 20221113184544.png" width=auto>
Looks pretty reasonable to me, now to take that output and put it into the next mixer to downconvert it. This is the part that should theoretically cross the air gap to the headphones.</p><a href=#results-of-downconversion><h2 id=results-of-downconversion><span class=hanchor arialabel=Anchor># </span>Results of downconversion:</h2></a><p>Unforturnately it looks like if I put the two LO&rsquo;s at the same 750MHz frequency they just phase lock:
<img src="/quartz/Pasted image 20221113185338.png" width=auto>
&mldr;That&rsquo;s not what I want. Right?
I think the next version of my board should include a usb connector to make it easier to power the things separately, and a long way away from the bench.
I think I will adjourn here and make that pcb. Parasitics and whatnot are bound to be important so I may as well order it now.</p></article><hr><div class=page-end id=footer><div class=backlinks-container><h3>Backlinks</h3><ul class=backlinks><li><a href=/quartz// data-ctx="20221103 915MHz brrr.md" data-src=/ class=internal-link>Harry dB notes</a></li></ul></div><div><script src=https://cdn.jsdelivr.net/npm/d3@6.7.0/dist/d3.min.js integrity="sha256-+7jaYCp29O1JusNWHaYtgUn6EhuP0VaFuswhNV06MyI=" crossorigin=anonymous></script><h3>Interactive Graph</h3><div id=graph-container></div><style>:root{--g-node:var(--secondary);--g-node-active:var(--primary);--g-node-inactive:var(--visited);--g-link:var(--outlinegray);--g-link-active:#5a7282}</style><script src=https://Oscilllator.github.io/quartz/js/graph.abd4bc2af3869a96524d7d23b76152c7.js></script></div></div><div id=contact_buttons><footer><p>Made by Harry dB using <a href=https://github.com/jackyzha0/quartz>Quartz</a>, Â© 2025</p><ul><li><a href=https://Oscilllator.github.io/quartz/>Home</a></li></ul></footer></div></div></body></html>